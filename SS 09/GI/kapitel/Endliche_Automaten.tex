\chapter{Endliche Automaten}
\Mark{Kapitel 3}
\section{Deterministische endliche Automaten (DEA)}
\begin{fdefinition}[\ac{DEA}]
Ein \ac{DEA} ist ein Quintupel $M = (Q, \Sigma, \delta, q_0, F)$ aus
\begin{itemize}
\item einer endlichen \indexb[Endliche Automaten!$Q$ Menge von Zuständen]{Menge von Zuständen} $Q$
\item einem \indexb[Endliche Automaten!$\Sigma$ Eingabealphabet]{Eingabealphabet} $\Sigma$
\item einer \indexb[Endliche Automaten!$\delta$ Transitionsfunktion]{Transitionsfunktion} $\delta$: $Q \times \Sigma \ra Q$
\item einen \indexb[Endliche Automaten!$q_0$ Startzustand]{Startzustand} $q_0 \in Q$
\item eine \indexb[Endliche Automaten!$F$ Menge von akzeptierenden Zuständen]{Menge von akzeptierenden Zuständen} $F \subseteq Q$\\
		\begin{anmerkung}
		$F$ kann leeres Element sein also kann der Automat auch keine Zustände annehmen!
		\end{anmerkung}
\end{itemize}
\Mark{Definition 3.1}
\end{fdefinition}

\begin{notation}
Anstelle von $\delta(q, a) = q$ schreiben wir
\[p \stack{a}{\longrightarrow}_M q\]
\end{notation}

\begin{beispiel}
$M^*$
\begin{figure}[htb]
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
	\node[initial,accepting,state,initial text=] (q0) {$q_0$};
	\node[state] (q1) [right of=q0] {$q_1$};
	\node[state] (q2) [below of=q0] {$q_2$};
	\node[accepting,state] (q3) [right of=q2] {$q_3$};

	%q0
	\path[->]
	(q0) edge [bend right] node [below] {0} (q1)
	(q0) edge [bend left] node [right] {1} (q2);

	%q1
	\path[->]
	(q1) edge [bend right] node [above] {0} (q0)
	(q1) edge [bend left] node [right] {1} (q3);

	%p2
	\path[->]
	(q2) edge [bend left] node [above] {0} (q3)
	(q2) edge [bend left] node [left] {1} (q0);

	%q3
	\path[->]
	(q3) edge [bend left] node [below] {0} (q2)
	(q3) edge [bend left] node [left] {1} (q1);
\end{tikzpicture}
\end{figure}
\Img{GI(V)-15.04.2009-DIA-1}

$M = \rklamm{\gklamm{q_0, q_1, q_2, q_3}, \Sigma_{\tx{Bool}}m, \delta, q_0, \gklamm{q_0, q_3}}$ mit $\delta$:
\begin{table}[htb]
\begin{tabular}{c|c|c}
& $0$ & $1$\\\hline
$q_0$ & $q_1$ & $q_2$\\
$q_1$ & $q_0$ & $q_3$\\
$q_2$ & $q_3$ & $q_0$\\
$q_3$ & $q_2$ & $q_1$
\end{tabular}
\end{table}
\end{beispiel}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{DEA}. Eine \indexb{Konfiguration} von $M$ ist ein Paar aus $Q \times \Sigma^*$. $(q_0, w)$ heißt \indexb{Startkonfiguration} und $(q, \epsilon)$ \indexn{Endkonfiguration} (für \ac{bel.} $w \in \Sigma^*$). Gilt für eine Endkonfiguration $(q, \epsilon)$ das $q \in F$, so heißt diese akzeptierend, ansonsten verwerfend. \qed
\Mark{Definition 3.2}
\end{fdefinition}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{DEA}. Ein \indexb{Konfigurationsübergang} (ein Schritt) ist eine Relation $\vd_M$: $(Q \times \Sigma^*) \times (Q \times \Sigma^*)$, die \ac{def.} ist durch
\[(p, \underbrace{a}_{\tx{Lesekopf}}\overbrace{w}^{\tx{Band}}) \vd (q, w) \tx{ \ac{gdw.} } \delta(p, a) = q\]

\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state] (nodeone) {$q$};
\node[state] (nodetwo) [right of=nodeone] {$q$};

\path[->] (nodeone) edge node[above] {$a$} (nodetwo);
\end{tikzpicture}
\end{center}

mit $p, q \in Q$, $w \in \Sigma^*$ und $a \in \Sigma$. $\vd_u$ nennen wir \indexb{Schrittrelation}.
\Mark{Definition 3.3}
\end{fdefinition}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{DEA} und $w \in \Sigma^*$. Eine \indexb{Berechnung} $c$ von $M$ ist eine endliche Folge von Konfigurationen
\[c = c_0, \dots, c_n \tx{ mit } c_i \vd c_{i + 1} (1 \klgl i \klgl n - 1)\]
$c$ ist eine Berechnung von $M$ für eine Eingabe $w$, falls $c_0 = (q_0, w)$ (Startkonfiguration) und $c_n = (q, \epsilon)$ (Endkonfiguration). Falls $c_n$ \ac{akzept.} Endkonfiguration ist, so ist C \ac{akzept.} Berechnung; ansonsten verwerfende Berechnung.
\Mark{Definition 3.4}
\end{fdefinition}

\begin{beispiel}
\[(q_0, \underline{1}001) \vd (q_2, 001) \vd (q_3, 01) \vd (q_2, 1) \vd (\underbrace{q_0}_{\in F}, \epsilon)\]
ist \ac{akzept.} Berechnung von $M^*$ (zu GI(V)-15.04.2009-DIA-1) auf $1001$
\end{beispiel}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{DEA}. Wir definieren: $\vd_M^*$: $(Q \times \Sigma^*) \times (Q \times \Sigma^*)$ als reflexiven und transitiven Abschluss von $\vd$:
\begin{itemize}
\item $(q, w) \vd^* (q, w)$ $\forall q \in Q, w \in \Sigma^*$
\item $(p, uv) \vd^* (q, v)$, falls $u = a_1 \dots a_n (a_i \in \Sigma)$ $\exists q_1, \dots, q_{n - 1} \in Q$, so dass
		\[(p, a_1 \dots a_n v) \vd (q_1, a_1 \dots a_n v) \vd \dots \vd (q_{n - 1}, a_n v) \vd (q, v)\]
		für $p, q \in Q$ $u, v \in \Sigma^*$
\end{itemize}
Die Fortsetzung $\hat{\delta}$: $Q \times \Sigma^* \ra Q$ der Transitionsfunktion $\delta$ auf Wörter \ac{def.} wir induktiv durch
\begin{itemize}
\item $\hat{\delta} (q, \epsilon) = q$
\item $\hat{\delta} (q, wa) = \delta(\hat{\delta} (q, w))$ $\forall w \in \Sigma^*$, $a \in \Sigma$ und $q \in Q$
\end{itemize}
\Mark{Definition 3.5}
\end{fdefinition}

\begin{notation}
Falls $\hat{\delta} (q, w) = p$, so schreiben wir
\[q \stack{w}{\longrightarrow} p\]
und sagen es existiert ein Pfad von $q$ nach $p$ mit Beschriftung $w$.
\end{notation}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{DEA}. Die von $M$ akzeptierte Sprache $L(M)$ ergibt sich aus:
\begin{align*}
L(M) &= \gklamm{w \in \Sigma^* \vert \hat{\delta}(q_0, w) \in F}\\
&= \gklamm{w \in \Sigma^* \vert q_0 \stack{w}{\longrightarrow} q \tx{ und } q \in F}\\
&= \gklamm{w \in \Sigma^* \vert (q_0, w) \vd^* (q, \epsilon) \tx{ mit } q \in F}
\end{align*}
Sprachen, die von einem \ac{DEA} erkannt werden nennt man \indexb{reguläre Sprachen}. Zwei \ac{DEA}s $M_1$ und $M_2$ sind äquivalent \ac{gdw.} $L(M_1) = L(M_2)$
\Mark{Definition 3.6}
\end{fdefinition}

\begin{lemma}
Der \ac{DEA} $M_x = \rklamm{\Sigma_{\tx{Bool}}, Q, \delta, q_0, F}$ erkennt die Sprache
\[L(M_x) = \gklamm{w \in \Sigma_{\tx{Bool}}^* \vert \rklamm{\betrag{w}_0 + \betrag{w}_1} \mod 2 = 0}\]
\end{lemma}

\begin{fbeweis}
Für jedes Wort $w \in \Sigma_{\tx{Bool}}^*$ bleibt der Automat $M_x$ in einem bestimmten Zustand stehen. Betrachten wir für einen \ac{bel.} Zustand die Menge der Wörter, für die $M_x$ in exakt diesem Zustand terminiert.
\[\mathcal{K} (q) = \gklamm{w \in \Sigma_{\tx{Bool}}^*\vert q_0 \stack{w}{\longrightarrow} q}\]
Da $M_x$ deterministisch ist, kann ein Wort, welches in $\mathcal{K}(q)$ liegt nicht gleichzeitig in $\mathcal{K}\rklamm{q'}$ liegen (mit $q \neq q'$) - $\mathcal{K}(q) \cap \mathcal{K}\rklamm{q'} = \emptyset$. Die Menge der von $M_x$ erkannten Wörter entspricht der Vereinigung aller Mengen $\mathcal{K}(q)$, die sich auf akzeptierende Zustände beziehen.
\[L(M_x) = \bigcup_{q \in F} \mathcal{K}(q)\]
$\mathcal{K}$ ist eine Äquivalenzklasse folgender Relation $R_s$
\begin{align*}
&u R_{\delta} v = \hat{\delta} (q_0, u) = \hat{\delta} (q_0, u)\\
&R_{\delta} (w, v)
\end{align*}
in $\mathcal{K} (q)$ befindet sich nur solche Wörter, die \ac{bzgl.} $R_{\delta}$ in Relation stehen.

Beweisidee:
\begin{itemize}[label=-]
\item Ordne $q_i (0 \klgl i \klgl 3)$ konkrete Äquivalenz-Klassen zu \textcircled{$\star$}
\item Zeige $\mathcal{K} (q_0) \cup \mathcal{K} (q_3) = L(u)$
\item Zeige, dass \textcircled{$\star$} korrekt.
\end{itemize}
\Solved{Ändere \textcircled{*} in ein schöneres Symbol}{Replaced with \textcircled{$\star$}}
Wir stellen folgende Induktionsannahme auf:
\begin{align*}
&\mathcal{K} (q_0) = \gklamm{w \in \Sigma_{\tx{Bool}}^*~\vert~\betrag{w}_0 \tx{ und } \betrag{w}_1 \tx{ sind gerade}}\\
&\mathcal{K} (q_1) = \gklamm{w \in \Sigma_{\tx{Bool}}^*~\vert~\betrag{w}_0 \tx{ ungerade } \vert \betrag{w}_1 \tx{ gerade}}\\
&\mathcal{K} (q_2) = \gklamm{w \in \Sigma_{\tx{Bool}}^*~\vert~\betrag{w}_0 \tx{ gerade } \vert \betrag{w}_1 \tx{ ungerade}}\\
&\mathcal{K} (q_3) = \gklamm{w \in \Sigma_{\tx{Bool}}^*~\vert~\betrag{w}_0 \tx{ und } \betrag{w}_1 \tx{ ungerade}}
\end{align*}

\begin{enumerate}
\item Induktionsanfang: wir zeigen, dass $\vert A$ für Wörter der Länge $\klgl 2$ gilt
		\begin{align*}
		0:~~&\delta \rklamm{q_0, \epsilon} = q_0 \Ra \epsilon \in \mathcal{K}(q_0) &\checkmark\\
		1:~~&\delta (q_0, 1) = q_2, 1 \in \mathcal{K}(q_2) &\checkmark\\
			&\delta (q_0, 0) = q_1, 0 \in \mathcal{K}(q_1) &\checkmark\\
		2:~~&\hat{\delta} (q_0, 00) = q_0, 00 \in \mathcal{K} (q_0) &\checkmark\\
			&\hat{\delta} (q_0, 01) = q_3, 01 \in \mathcal{K} (q_3) &\checkmark\\
			&\hat{\delta} (q_0, 10) = q_3, 10 \in \mathcal{K} (q_3) &\checkmark\\
			&\hat{\delta} (q_0, 11) = q_0, 11 \in \mathcal{K} (q_0) &\checkmark
		\end{align*}
\item Induktionsschluss: Wir setzen voraus, dass der Induktionsanfang für Wörter $\betrag{u} \klgl i$ gilt. Wir wollen jetzt zeigen, dass der Induktionsanfang dann auch für Wörter der Länge $i + 1$ gilt.\\
		Sei also $w \in \Sigma_{\tx{Bool}}^{i + 1}$, also $w = u \mal a$ mit $u \in \Sigma_{\tx{Bool}}^{i}$ und $a \in \Sigma_{\tx{Bool}}$. Wir müssen vier Fälle unterscheiden:
		\begin{enumerate}[label=\arabic*.]
		\item $\betrag{u}_0$ gerade, $\betrag{u}_1$ gerade. Laut Induktionsvoraussetzung gilt $\hat{\delta} (q_0, u) = q_0$ \ac{bzw.} $u \in \mathcal{K} (q_0)$. Wir erhalten
				\[\hat{\delta} (q_0, ua) = \delta \rklamm{\hat{\delta} (q_0, u), a} \stack{\tx{IV}}{=} \delta(q_0, a) = \begin{cases}q_1 \tx{ falls } a = 0\\q_2 \tx{ falls } a = 1\end{cases}\]
				Da $\betrag{u1}_0$ gerade und $\betrag{u1}_1$ ungerade entspricht $\hat{\delta} (q_0, u1) = q_2$ der IA.\\
				Da $\betrag{u0}_0$ ungerade und $\betrag{u0}_1$ gerade entspricht $\hat{\delta} (q_0, u0) = q_1$ der IA.
		\item analog, trivial, selbst! 
		\item analog, trivial, selbst!
		\item analog, trivial, selbst!
		\end{enumerate}
\end{enumerate}
\end{fbeweis}

\section{Nichtdeterministische endliche Automaten (NEAs)}
\Mark{Section 3.3}
\begin{figure}[htb]
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
	\node[initial,state,initial text=] (A) {};
	\node[state] (B) [right of=A] {};
	\node[accepting,state] (C) [right of=B] {};

	\path (A) edge [loop above] node {$0,1$} ();
	\path (A) edge node {$0$} (B);
	\path (B) edge node {$0$} (C);
\end{tikzpicture}
\end{figure}
\Img{IMG-GI-09-04-21-1}
\begin{fdefinition}
Ein \ac{NEA} $M$ ist ein Quintupel $(Q, \Sigma, \delta, q_0, F)$ aus
\begin{itemize}
\item $Q, \Sigma, q_0, F$ wie \ac{DEA}
\item eine Transitionsfunktion $\delta$: $Q \times \Sigma \ra \mathcal{P} (Q)$
\end{itemize}
\end{fdefinition}

\begin{notation}
Falls $q \in \delta(p, a)$ schreiben wir $p \stack{a}{\ra} q$
\end{notation}

\begin{fdefinition}
Konfiguration analog zu \ac{DEA} $Q \times \Sigma^*$
\end{fdefinition}

\begin{fdefinition}
Schrittrelation kann ebenfalls übernommen werden, da $p \stack{a}{\ra} q$ für \ac{NEA} angepasst.
\[(p, aw) \vd (q, w) \tx{\ac{gdw.}} p \stack{a}{\ra} q\]
\end{fdefinition}

\begin{fdefinition}
Sei $M = \rklamm{Q, \Sigma, \delta, q_0, F}$ eine \ac{NEA}. Eine Berechnung $C$ von $M$ ist eine Folge von Konfigurationen
\[C = C_0, \dots, Q_n \tx{ mit } C_i \vd C_{i + 1} (0 \klgl i \klgl n - 1)\]
$C$ ist eine Berechnung von $M$ für die Eingabe $w$, falls $C_0 = (q_0, w)$ Startkonfiguration ist und entweder
\begin{itemize}
\item $C_n = (q, \epsilon)$ eine Endkonfiguration ist, oder
\item $C_n = (q, aw)$ und $\delta(q, a) = \emptyset$ gilt (der Automat \ggq{stürzt ab})
\end{itemize}
\ac{akzept.} und verwerfende \ac{Ber.} analog \ac{DEA}. Reflexiver und transitiver Abschluss von $\vd$ analog \ac{DEA}.
\[(q,w) \vd^* (q,w)\]
\[(q, a_1, a_2, a_3) \vd^* (q', \epsilon)\]
\Mark{Definition 3.8}
\end{fdefinition}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{NEA}. Die Fortsetzung $\hat{\delta}: Q \times \Sigma^* \ra \mathcal{P}(Q)$ von $\delta$ auf Wörter ist \ac{def.} durch
\begin{itemize}
\item $\hat{\delta} (q, \epsilon) = \gklamm{q}$
\item Sei $w = ua$ und $\hat{\delta} (q, u) = \gklamm{q_1, \dots, q_n}$, dann gilt
		\[\hat{\delta} (q, ua) = \bigcup_{i = 1}^n \delta (q_i, a)\]
		\[w, u \in \Sigma^*, a \in \Sigma, q_i, q \in Q, 1 \klgl i \klgl n\]
\end{itemize}
\Mark{Definition 3.9}
\end{fdefinition}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein \ac{NEA}. Die von $M$ \ac{akzept.} Sprache $L(M)$ ergibt sich aus
\begin{align*}
L(M) &= \gklamm{w \in \Sigma^* \vert (q_0, w) \vd^{*} (q, \epsilon) \tx{ mit } q_f \in F}\\
&= \gklamm{w \in \Sigma^* \vert \hat{\delta} (q_0, w) \cap F \neq \emptyset}\\
&= \gklamm{w \in \Sigma^* \vert q_0 \stack{w}{\ra} q_f \tx{ und } q_f \in F}
\end{align*}

\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state, initial, initial text=] (q0) {$q_0$};
\node[state] (q1) [right of=q0] {$q_1$};
\node[state, accepting] (q2) [right of=q1] {$q_2$};

\path (q0) edge [loop above] node[left]{$1,0$} ();
\path (q2) edge [loop above] node[right]{$1,0$} ();

\path (q0) edge node[above] {$1$} (q1);
\path (q1) edge node[above] {$1$} (q2);
\end{tikzpicture}
\end{center}
\Mark{Definition 3.10}
\end{fdefinition}

\begin{lemma}
$L(M_{11}) = \overbrace{\gklamm{w \in \Sigma_{\tx{Bool}}^* \vert w = u11v \tx{ mit } u,v \in \Sigma_{\tx{Bool}}^*}}^L$\\
Wie üblich erfolgt der \ac{Bew.} in 2 Schritten
\begin{itemize}
\item $\gklamm{u11v \vert u, v \in \Sigma_{\tx{Bool}}^*} \subseteq L (M_{11})$. Sei $w \in L$; \ac{d.h} $w = u11v$ für \ac{bel.} $u, v \in \Sigma_{\tx{Bool}}^*$. Zu zeigen: es gibt \ac{akz.} Berechnung von $M_{11}$ für $w$. Da $q_0 \in \delta(q_0, 0) \cap \delta (q_0, 1)$ \ac{ex.} für jedes $z \in \Sigma_{Bool}^*$ eine Berechnung
		\[(q_0, z) \vd^* (q_0, \epsilon)\]
		gleichermaßen
		\[(q_2, z) \vd^* (q_2, \epsilon), \tx{ da } q_2 \in \delta (q_2, 0) \cap \delta(q_2, 1)\]
		Damit erhalten wir für \ac{Ber.} für $w$ wie folgt
		\[(q_0, u11v) \vd^* (q_0, 11v) \vd (q_1, 1v) \vd (q_2, v) \vd^* (q_2, \epsilon)\]

\item $L(M_{11}) \subseteq L.$ Sei $w \in L(M_{11})$; \ac{d.h} es \ac{ex.} eine \ac{akzept.} Berechnung von $M$ für $w$. Da $q_2$ einziger \ac{akzept.} Zustand, muss \ac{Ber.} in $q_0$ starten und in $q_2$ enden. Der einzige Pfad von $q_0$ zu $q_2$ führt über $q_1$:
		\[(q_0, w) \vd^* (q_1, u) \vd^* (q_2, \epsilon)\]
		Jede \ac{Berechn.} von $M$ kann höchstens einmal in eine Konfiguration mit Zustand $q_1$ gelangen, denn $q_1 \notin \delta(q_1, a)$ für $a \in \Sigma_{\tx{Bool}}$. Die Berechnung muss daher wie folgt aussehen:
		\[(q_0, w) \vd^* (q_0, abu) \vd (q_1, bu), \vd (q_2, u) \vd^* (q_2, \epsilon)\]
		mit $a, b \in \SigB$. Die einzige Möglichkeit zu $q_1$ zu gelangen, ist die \ac{Anw.} der Transition $q_0 \stack{1}{\ra} q_1$, und somit folgt $a = 1$. Die einzige \ac{Mögl.} $q_1$ zu verlassen ist $q_1 \stack{1}{\ra} q_2$; daher $b = 1$ gelten, also insgesamt
		\[(q_0, w) \vd^* (q_0, 11u) \vd (q_1, 1u) \vd (q_2, u) \vd^* (q_2, \epsilon)\]
		\Ra offenbar hat $w$ $11$ enthalten, also $w \in L$
\end{itemize}
\Mark{Lemma 3.2}
\end{lemma}

\section{\texorpdfstring{$\epsilon$-Nichtdeterministische Automaten}{Epsilon-Nichtdeterministische Automaten}}
$\epsilon$-Transitionen\\
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state,initial,initial text=] (n0) {};
\node[state] (n1) [right of=n0] {};
\node[state] (n2) [right of=n1] {};
\node[state,accepting] (n3) [right of=n2] {};

\path[->] (n0) edge[loop below] node[right] {$1, 0$} ();
\path[->] (n3) edge[loop below] node[right] {$1, 0$} ();
\path[->] (n0) edge node[above] {$\epsilon$} (n1);
\path[->] (n1) edge node[above] {$1$} (n2);
\path[->] (n2) edge node[below] {$1$} (n3);
\path[->] (n2) edge[bend left] node[above] {$\epsilon$} (n3);
\end{tikzpicture}
\Img{GI-28.04.2009-IMG-1}

\subsection{\texorpdfstring{NEAs mit $\epsilon$-Transitionen}{NEAs mit Epsilon-Transitionen}}
\begin{fdefinition}
Ein $\epsilon$-\ac{NEA} $\mu$ ist ein Quintupel $(Q, \Sigma, \delta, q_0, F)$.
\begin{itemize}
\item $Q, \Sigma, q, F$ wie \ac{NEA}
\item $\delta$: $Q \times (\Sigma \cup \gklamm{\epsilon}) \ra \mathcal{P}(Q)$
\end{itemize} \qed
\end{fdefinition}

\begin{notation}
$q \in \delta (q, a)$ schreiben wir als $p \stack{a}{\ra} q$ $a \in \Sigma \cup \gklamm{\epsilon}$
\end{notation}

Übernehme Begriff \ggq{Konfiguration von \ac{NEA}}. Zur Definition der Schrittrelation; an Übergang
\[(p, w) \vd (q, w)\]
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state] (n0) {$p$};
\node[state] (n1) [right of=n0] {$p_1$};
\node[state] (n2) [right of=n1] {\dots};
\node[state] (n3) [right of=n2] {$p_4$};
\node[state] (n4) [right of=n3] {$q$};

\path[->] (n0) edge node[above] {$\epsilon$} (n1);
\path[->] (n1) edge node[above] {$\epsilon$} (n2);
\path[->] (n2) edge node[above] {$\epsilon$} (n3);
\path[->] (n3) edge node[above] {$\epsilon$} (n4);
\end{tikzpicture}
\Img{GI-28.04.2009-IMG-2}
nicht zu erkennen, wie viele $\epsilon$-Transitionen benutzt wurden. \Ra Erlaube derartige Übergänge mit \ac{bel.} vielen $\epsilon$-Transitionen.

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein $\epsilon$-\ac{NEA}. Die $\epsilon$-Hülle $\epsilon_c$: $Q \ra \mathcal{P}(Q)$ ist \ac{def.} durch
\[\epsilon_c (q) = \gklamm{q} \cup \bigcup_{q' \in \delta(q, \epsilon)} \epsilon_c(q')\]
\Mark{Definition 3.13}
\end{fdefinition}

\begin{fdefinition}
Sei $M = (Q, \Sigma, \delta, q_0, F)$ ein $\epsilon$-\ac{NEA}. Ein Konfigurationsübergang (ein Schritt) ist eine Relation $\vd:~(Q \times \Sigma^*) \times (Q \times \Sigma^*)$, die \ac{def.} ist durch
\[(q, aw) \vd (p, w) \tx{ falls } p \in \delta(q, a)\]
und
\[(q, w) \vd (p, w) \tx{ falls } p \in \epsilon_c (q)\]
wobei $a \in \Sigma, w \in \Sigma^*$ und $p, q \in Q$.
\Mark{Definition 3.14}
\end{fdefinition}

\begin{fdefinition}
für Berechnungen und von $\epsilon$-\ac{NEA} \ac{akzept.} Sprache analog zu \ac{NEA}.
\end{fdefinition}

\subsection{\texorpdfstring{Äquivalenz von $\epsilon$-NEA und NEA}{Äquivalenz von Epsilon-NEA und NEA}}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state] (n0) {$p$};
\node[state] (n1) [right of=n0] {$q$};
\node[state] (n2) [right of=n1] {$q'$};
\node[state] (n3) [right of=n2] {$r$};

\path[->] (n0) edge node[above] {$\epsilon$} (n1);
\path[->] (n1) edge node[above] {$a$} (n2);
\path[->] (n2) edge node[above] {$\epsilon$} (n3);
\path[->] (n0) edge[bend right] node[below] {$a$} (n3);
\end{tikzpicture}
\Img{GI-28.04.2009-IMG-3}

\begin{beispiel}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state,initial,initial text=] (n0) {$q_0$};
\node[state] (n1) [right of=n0] {$q_1$};
\node[state] (n4) [below right of=n1] {$q_4$};
\node[state] (n2) [above right of=n4] {$q_2$};
\node[state,accepting] (n3) [right of=n2] {$q_3$};
\node[state] (n5) [below of=n4] {$q_5$};

\path[->] (n1) edge[loop below] node[right] {$0$} ();
\path[->] (n1) edge node[above] {$0$} (n2);
\path[->] (n4) edge node[above] {$0$} (n3);
\path[->] (n4) edge[bend right] node[left] {$1$} (n5);
\path[->] (n5) edge[bend right] node[right] {$1$} (n4);

\path[->,color=red] (n0) edge node[color=red, above] {$\epsilon$} (n1);
\path[->,color=red] (n2) edge node[color=red, above] {$\epsilon$} (n3);
\path[->,color=red] (n0) edge[bend right] node[color=red, above] {$\epsilon$} (n4);

\path[->,color=green] (n0) edge[bend left] node[color=green, below right] {$0$} (n1);
\path[->,color=green] (n1) edge[bend left] node[color=green, below] {$0$} (n3);
\path[->,color=green] (n0) edge[bend right] node[color=green, above] {$1$} (n5);
\path[->,color=green] (n0) edge[bend left] node[color=green, below] {$0$} (n2);
\path[->,color=green] (n0) edge[bend left] node[color=green, above] {$0$} (n3);
\end{tikzpicture}
\Img{GI-28.04.2009-IMG-4}
\end{beispiel}

\begin{fsatz}
Zu jedem $\epsilon$-\ac{NEA} lässt sich \textbf{effektiv} ein \textbf{äquivalenter} NEA konstruieren.
\Mark{Satz 3.1}
\end{fsatz}

\begin{fbeweis}
Sei $M_{\epsilon} = (Q, \Sigma, \delta_{\epsilon}, q_0, F_{\epsilon})$ ein $\epsilon$-\ac{NEA}. Konstruktionsidee für \ac{NEA}: Eliminiere $\epsilon$-Transitionen und kompensiere durch Hinzunahme neuer Transitionen.\\
Formal: Konstruiere NEA $M = (Q, \Sigma, \underline{\delta}, q_0, \underline{F})$ aus $M_{\epsilon}$ wie folgt:
\[\textcolor{green}{r \in \delta(p, a)} \Lra \exists q, q' \in Q:~q \in \epsilon_c (p) \und r \in \epsilon_c (q') \und q' \in \delta (q, a)\]

\begin{center}
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state] (n0) {$p$};
\node[state] (n1) [right of=n0] {$q$};
\node[state] (n2) [right of=n1] {$q'$};
\node[state] (n3) [right of=n2] {$r$};

\path[->, color=red] (n0) edge node[above, color=red] {$\epsilon$} (n1);
\path[->] (n1) edge node[above] {$a$} (n2);
\path[->, color=red] (n2) edge node[above, color=red] {$\epsilon$} (n3);
\path[->, color=green] (n0) edge[bend right] node[below, color=green] {$a$} (n3);
\end{tikzpicture}
\end{center}

\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2.8cm,semithick]
\node[state,initial,initial text=] (n0) {};
\node[state,accepting] (n1) [right of=n0] {};
\path[->] (n0) edge node[above] {$\epsilon^*$} (n1);
\end{tikzpicture}

und
\[F = \begin{cases}
F_{\epsilon} \cup \gklamm{q_0} & \tx{falls } \epsilon_c (q_0) \cap F_{\epsilon} \neq \emptyset\\
F_{\epsilon} & \tx{sonstige}
\end{cases}\]
Effektive Berechnung: ohne Beweis.

\begin{enumerate}[label=\alph*)]
\item Bleibt zu zeigen $L(M) = L(M_2)$.\\
		$L(M_{\epsilon}) \subseteq L(M)$. Sei $w = a_1 \dots a_n \in L(M_\epsilon)$ und $q_0 \stack{w}{\ra} p_n$ (also: $w$ ist Pfadbeschreibung von $q_0$ nach $p_n$ \ac{incl.} der $\epsilon$-Transitionen). \ac{bzw.}
		\[(q_0, a_1 \dots a_n) \vd_{M_{\epsilon}} (p_1, a_2 \dots a_n) \vd_{M_{\epsilon}} \dots \vd_{M_{\epsilon}} (p_{n - 1}, a_n) \vd (p_n, \epsilon)\]
		ist eine \ac{akzept.} Berechnung von $M_{\epsilon}$ für $w$.
		
		Wir betrachten Indizes $i_1, \dots, i_m$ mit $a_{ij} \neq \epsilon$ ($1 \klgl j \klgl m$). Offenbar ist $a_{i1} a_{i2} \dots a_{im} = w$.
		\begin{enumerate}[label=\roman*)]
		\item $(m = 0)$ es gibt keinen solchen Index $i_m$ mit $a_{ij} \neq \epsilon$, dann ist $w = \epsilon$ und $p_n \in \epsilon_c (q_0)$ sowie $p_n \in F_{\epsilon}$. $F$ wurde für diesen Fall aber so konstruiert, dass $q_0 \in F$.\\
				\Ra $\epsilon \in L(M)$
		
		\item $(m > 0)$ Gemäß \ac{Def.} von $\delta$ \Todo{ref zur definition} ist
				\[\tx{\ac{NEA}: } (q_0, a_{i1} \dots a_{im}) \vd (p_{i1}, a_{i2} a_{i3} \dots a_{im}) \vd \dots \vd (p_{i_{m - 1}} a_{i_m}) \vd (p_n, \epsilon)\]
				Machen wir uns das am \ac{Bsp.} des ersten Schritts nochmals klar:
				\[(q_0, a_{i_1} \dots a_{i_m}) \vd (p_{i_1}, a_{i_2} \dots a_{i_m})\]
				Angenommen es gibt im $\epsilon$-\ac{NEA} \textbf{keine} Transition
				\[q_0 \stack{q_{i_1}}{\ra} q_{i_1}\]
				\ac{d.h.} um \ac{NEA} wurde eine hinzugefügte Kante benutzt. Offenbar ist dann $i_2 - i_1 > 1$; \ac{d.h.} im $\epsilon$-\ac{NEA} wurden $\epsilon$-Transitionen benutzt. Dann muss es laut Konstruktion $\space^*$ von $\delta$ ein $q'$ mit $q' \in \epsilon_c (q_0)$ geben, so dass $\delta '' \in \delta_{\epsilon} (q', a)$ und $q_{i_1} \in \epsilon_c (q'')$:
				\Insert{GI-29-04.2009-IMG-1}
				sonst hätte $\epsilon$-\ac{NEA} Konfiguration ($p_{i_1}, a_{i_2} \dots a_{i_m}$) niemand erreicht. In der Konstruktion für $\delta$ haben wir für solche Fälle vereinbart, dass $p_{i_1} \in \delta(q_0, a_{i_1})$.
		\end{enumerate}

\item $L(M) \subseteq L(M_\epsilon)$: Sei $w = a_1 \dots a_n \in L(M)$ und
		\[q_0, a_1 \dots a_n) \vd_{\mu} (p_1, a_2 \dots a_n) \vd_{\mu} \dots \vd_{\mu} (p_n, \epsilon)\]
		mit $p_n \in F$ eine \ac{akzept.} Berechnung des \ac{NEA} $M$. Gemäß \ac{Def.} von $\delta$ \Todo{ref auf definition} gilt nun aber auch, dass
		\[(q_0, a_1 \dots a_n) \vd_{M_\epsilon}^* (p_1, a_2 \dots a_n) \vd_{M_\epsilon}^* \dots \vd_{M_\epsilon}^* (p_n, \epsilon)\]
		eine \ac{akzept.} Berechnung des $\epsilon$-\ac{NEA} ist. Zwei Fälle sind zu unterscheiden:
		\begin{enumerate}[label=\roman*)]
		\item $p_n \in F_{\epsilon}$ folgt sofort $w \in L(M_{\epsilon})$
		\item $p_n \in F - F_{\epsilon}$; \ac{d.h.} $p_n = q_0$: Gemäß \ac{Def.} von $F$ \Todo{ref zur definition} folgt nun für ein $\hat{p} \in F_{\epsilon}$: $\hat{p} \in \epsilon_c (q_0)$ und somit \ac{ex.} eine Berechnung
				\[(q_0, a_1 \dots a_n) \vd_{\mu}^* (p_1, a_2 \dots a_n) \vd_{\mu}^* \dots \vd_{\mu}^* (\hat{p}, \epsilon)\]
		\end{enumerate}
\end{enumerate} \qed
\end{fbeweis}

$L = \gklamm{w \in \SigBs \vert \tx{Zahlenwert}(w) \mod 3 = 0 \und w = u111v für u, v \in \SigBs}$\\
\ac{DEA} $M$ für $L$ gesucht!\\
$L = \ub{\gklamm{w \in \SigBs \vert \tx{Zahlenwert}(w) \mod 3 = 0}}{L_1} \cap \ub{\gklamm{w \in \SigBs \vert w = u111v}}{L_2}$
\Insert{GI-29-04.2009-IMG-2}
\Insert{GI-29-04.2009-IMG-3}

\subsection{Äquivalenz von NEA und DEA}
\Insert{GI-30.04.2009-IMG-1}
\Insert{GI-30.04.2009-IMG-2}
$L = \gklamm{w \in \SigBs \vert w^R \tx{ enthält an $n$-ten Stelle eine } 1}$ $Q_D = \mathcal{P}(Q)$
\Insert{GI-30.04.2009-IMG-3}
